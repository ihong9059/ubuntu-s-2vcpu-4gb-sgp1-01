# Server Management Work Log

**Date:** 2026-02-06
**Server IP:** 178.128.90.37

---

## 1. Web Server Status Check

현재 PC에서 실행 중인 웹 서버 목록 확인 (작업 전 12개)

| Port | 프로젝트 | 실행 방식 | 상태 |
|------|---------|-----------|------|
| 80 | Nginx (리버스 프록시) | nginx | 실행 중 |
| 90 | seju | node | **삭제됨** |
| 91 | uttec | node | 실행 중 |
| 5000 | eduProject (app.py) | python | 실행 중 |
| 6060 | 자동차운전면허시험 | node | 실행 중 |
| 7000 | 동호회 (app.py) | python | 실행 중 |
| 7001 | 동호회 (app.py) | python | 실행 중 |
| 7002 | 동호회 (run.py) | python | 실행 중 |
| 7070 | englishWords | node | 실행 중 |
| 7071 | universal | node | 실행 중 |
| 8000 | eduProject (app_simple.py) | python | 실행 중 |
| 9000 | filming-location | node | **로컬 삭제** |

---

## 2. GitHub Push Status Check

**Repository:** `git@github.com:ihong9059/ubuntu-s-2vcpu-4gb-sgp1-01.git`
**Branch:** main

모든 프로젝트가 하나의 Git Repository로 관리됨.

### 2.1 확인 결과

| 프로젝트 | GitHub 상태 |
|---------|-------------|
| seju | 동기화됨 → 삭제됨 |
| uttec | 동기화됨 |
| eduProject | 동기화됨 |
| 자동차운전면허시험 | 동기화됨 |
| 동호회 | 동기화됨 |
| englishWords | 동기화됨 |
| filming-location | 동기화됨 (유지) |
| universal | **신규 push** |

---

## 3. Completed Tasks

### 3.1 universal 프로젝트 GitHub Push

**Commit:** `77a10d6`
**Message:** "Add universal project: multi-language word learning app"

```
47 files changed, 4426 insertions(+)
- universal/package.json
- universal/package-lock.json
- universal/server.js
- universal/public/words.js
- universal/public/words/ (42개 언어조합 파일)
```

### 3.2 seju 프로젝트 완전 삭제

**작업 내용:**
1. PM2 서버 중단: `pm2 stop seju && pm2 delete seju`
2. 로컬 디렉토리 삭제: `rm -rf /root/seju`
3. GitHub에서 삭제: commit `bba3638`

**삭제된 파일:**
- seju/package.json
- seju/package-lock.json
- seju/server.js
- seju/seju_sales.db
- seju/public/index.html
- seju/public/mobile/index.html

**Port 90 해제됨**

### 3.3 filming-location 프로젝트 로컬만 삭제

**작업 내용:**
1. PM2 서버 중단: `pm2 stop filming-location && pm2 delete filming-location`
2. GitHub에서 복원: commit `c191048`
3. 로컬 디렉토리 삭제: `rm -rf /root/filming-location`
4. git commit 안 함 (로컬만 삭제 상태 유지)

**GitHub에 보존됨 - 언제든 복원 가능**

**복원 방법:**
```bash
# GitHub에서 복원
cd /root
git checkout origin/main -- filming-location/

# PM2로 서버 재시작
cd /root/filming-location
npm install
pm2 start server.js --name filming-location
pm2 save
```

**Port 9000 해제됨**

---

### 3.4 code-server 설치 (웹 기반 VSCode)

**설치 명령:**
```bash
curl -fsSL https://code-server.dev/install.sh | sh
```

**버전:** 4.108.2

**설정 파일:** `/root/.config/code-server/config.yaml`
```yaml
bind-addr: 0.0.0.0:8888
auth: none
cert: false
```

**접속 정보:**
| 항목 | 값 |
|-----|-----|
| URL | http://178.128.90.37:8888 |
| 인증 | 비활성화 (비밀번호 불필요) |

**주의:** URL을 아는 누구나 접속 가능

**서비스 관리:**
```bash
# 상태 확인
systemctl status code-server@root

# 재시작
systemctl restart code-server@root

# 중지
systemctl stop code-server@root
```

**메모리 사용:** ~45MB
**자동 시작:** 활성화됨 (부팅 시 자동 실행)

**터미널 alias 추가 (~/.bashrc):**
```bash
alias code='code-server'
```

**비밀번호 다시 활성화 방법:**
```bash
# 설정 파일 수정
vi /root/.config/code-server/config.yaml

# 변경 내용:
# auth: none → auth: password
# password: e7fe2de6688fc66762368221 (주석 해제)

# 재시작
systemctl restart code-server@root
```

---

## 4. Git Commits Today

| Commit | Message |
|--------|---------|
| `77a10d6` | Add universal project: multi-language word learning app |
| `bba3638` | Remove seju project |
| `d8d9410` | Remove filming-location project |
| `c191048` | Restore filming-location project to GitHub |
| `1e7d3dd` | Add work logs for 2026-02-04 and 2026-02-06 |

---

## 5. Current Server Status (작업 후)

**실행 중인 웹 서버: 11개**

| Port | 프로젝트 | PM2 이름 |
|------|---------|----------|
| 80 | Nginx | - |
| 91 | uttec | uttec |
| 5000 | eduProject | - |
| 6060 | 자동차운전면허시험 | driving-license |
| 7000 | 동호회 | - |
| 7001 | 동호회 | - |
| 7002 | 동호회 | - |
| 7070 | englishWords | english-words |
| 7071 | universal | - |
| 8000 | eduProject | - |
| 8888 | **code-server (VSCode)** | systemd |

**PM2 현재 상태:**
```
driving-license (port 6060) - online
english-words (port 7070) - online
uttec (port 91) - online
```

**Systemd 서비스:**
```
code-server@root (port 8888) - active
```

---

## 6. Nginx Configuration

**파일:** `/etc/nginx/sites-enabled/default`

| 설정 | 내용 |
|-----|------|
| 기본 서버 (80) | `/var/www/html` 정적 파일 서빙 |
| newuttec-info.duckdns.org | → localhost:8080 프록시 |

---

## 7. Notes

- 모든 프로젝트는 `/root/` 디렉토리 하위에 위치
- 하나의 Git Repository로 전체 관리
- PM2로 Node.js 서버 관리 (자동 재시작)
- Python 서버는 별도 프로세스로 실행 중

---

*Last Updated: 2026-02-06*
