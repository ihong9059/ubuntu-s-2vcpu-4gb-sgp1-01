# Universal Language Learning App - Work Log

**Date:** 2026-02-04
**Project:** `/root/universal/`
**Server:** http://localhost:7071 (Port 7071)

---

## 1. Project Overview

ë‹¤êµ­ì–´ í•™ìŠµ ì›¹ ì•± MVP ê°œë°œ. 7ê°œ ì–¸ì–´ ê°„ ìƒí˜¸ í•™ìŠµ ì§€ì›.

### Supported Languages (7ê°œ)
| Code | Language | Flag | TTS Code |
|------|----------|------|----------|
| ko | í•œêµ­ì–´ | ğŸ‡°ğŸ‡· | ko-KR |
| en | English | ğŸ‡ºğŸ‡¸ | en-US |
| ja | æ—¥æœ¬èª | ğŸ‡¯ğŸ‡µ | ja-JP |
| zh | ä¸­æ–‡ | ğŸ‡¨ğŸ‡³ | zh-CN |
| es | EspaÃ±ol | ğŸ‡ªğŸ‡¸ | es-ES |
| fr | FranÃ§ais | ğŸ‡«ğŸ‡· | fr-FR |
| de | Deutsch | ğŸ‡©ğŸ‡ª | de-DE |

---

## 2. Today's Completed Tasks

### 2.1 UI Internationalization (i18n) ì™„ë£Œ

**íŒŒì¼:** `/root/universal/public/words.js`
- 7ê°œ ì–¸ì–´ì— ëŒ€í•œ UI ë²ˆì—­ ê°ì²´ ì¶”ê°€ (`languageData.ui`)
- `getUI(langCode)` í•¨ìˆ˜ ì¶”ê°€

**íŒŒì¼:** `/root/universal/public/index.html`
- `currentUI` ë³€ìˆ˜ë¡œ í˜„ì¬ UI ì–¸ì–´ ê´€ë¦¬
- `updateUILanguage()` í•¨ìˆ˜ êµ¬í˜„ - ëª¨ë“  í™”ë©´ì˜ í…ìŠ¤íŠ¸ ë™ì  ì—…ë°ì´íŠ¸
- ê° í™”ë©´ ì „í™˜ ì‹œ `updateUILanguage()` í˜¸ì¶œ ì¶”ê°€:
  - `startFlashcard()`
  - `showFlashcardComplete()`
  - `startQuiz()`
  - `startQuizFromFlashcard()`
  - `showQuizResult()`
  - `showProgress()`
  - `showSettings()`
  - `renderLanguageSelection()`

### 2.2 Default Language Setting ë³€ê²½

- **ê¸°ë³¸ ëª¨êµ­ì–´:** English (en)
- **ê¸°ë³¸ í•™ìŠµ ì–¸ì–´:** í•œêµ­ì–´ (ko)
- ì•± ì‹œì‘ ì‹œ ë°”ë¡œ ë©”ì¸ ë©”ë‰´ë¡œ ì´ë™ (ì–¸ì–´ ì„ íƒ í™”ë©´ ê±´ë„ˆëœ€)
- HTML ê¸°ë³¸ í…ìŠ¤íŠ¸ ëª¨ë‘ ì˜ì–´ë¡œ ë³€ê²½

### 2.3 Language Selection UX ê°œì„ 

- ë©”ì¸ ë©”ë‰´ í—¤ë”ì˜ ì–¸ì–´ í”Œë˜ê·¸(ğŸ‡ºğŸ‡¸ âœ ğŸ‡°ğŸ‡· âœï¸) í´ë¦­ìœ¼ë¡œ ì–¸ì–´ ë³€ê²½ ê°€ëŠ¥
- Settingsì—ì„œë„ "Change Language" ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥
- ì–¸ì–´ ì„ íƒ í™”ë©´ì— "â† Back" ë²„íŠ¼ ì¶”ê°€ (ì·¨ì†Œ ê¸°ëŠ¥)

### 2.4 Word Data - 42ê°œ ì–¸ì–´ ì¡°í•© ì™„ì„±

**íŒŒì¼:** `/root/universal/public/words.js` - `languageData.wordPacks`

ëª¨ë“  7x6 = 42ê°œ ì¡°í•©ì— ëŒ€í•œ ë‹¨ì–´ ë°ì´í„° ì¶”ê°€:

| Native | Targets (6ê°œì”©) |
|--------|-----------------|
| ko | en, ja, zh, es, fr, de |
| en | ko, ja, zh, es, fr, de |
| ja | ko, en, zh, es, fr, de |
| zh | ko, en, ja, es, fr, de |
| es | ko, en, ja, zh, fr, de |
| fr | ko, en, ja, zh, es, de |
| de | ko, en, ja, zh, es, fr |

ê° ì¡°í•©ë‹¹ ì•½ 13-55ê°œ ë‹¨ì–´ (ë ˆë²¨ 1-5)

### 2.5 Performance Optimization - File Splitting

**ë³€ê²½ì‚¬í•­:**
- ê¸°ì¡´ ë‹¨ì¼ `words.js` (189KB) â†’ ëª¨ë“ˆí™”ëœ íŒŒì¼ êµ¬ì¡°ë¡œ ë¶„ë¦¬
- `public/words/words-ui.js`: UI ë²ˆì—­ + í—¬í¼ í•¨ìˆ˜ + `loadWordPack()` ë™ì  ë¡œë”©
- `public/words/{native}-{target}.js`: 42ê°œ ê°œë³„ ë‹¨ì–´íŒ© íŒŒì¼

**`index.html` ìˆ˜ì •:**
```javascript
// ë³€ê²½ ì „
<script src="words.js"></script>
currentWordDatabase = getWordDatabase(native, target);

// ë³€ê²½ í›„
<script src="words/words-ui.js"></script>
loadWordPack(native, target).then(words => {
    currentWordDatabase = words;
    showMainMenu();
});
```

**íš¨ê³¼:**
- ì´ˆê¸° í˜ì´ì§€ ë¡œë”©: 24KB (ê¸°ì¡´ 189KBì—ì„œ 88% ê°ì†Œ)
- ì–¸ì–´ ì„ íƒ ì‹œì—ë§Œ í•´ë‹¹ ë‹¨ì–´íŒ© ë¡œë“œ (lazy loading)
- 3000ë‹¨ì–´ í™•ì¥ ì‹œì—ë„ ì•ˆì •ì ì¸ ì„±ëŠ¥ ìœ ì§€ ê°€ëŠ¥

### 2.6 Help Page (ë„ì›€ë§ í˜ì´ì§€) ì¶”ê°€

**íŒŒì¼:** `/root/universal/public/index.html`, `/root/universal/public/words/words-ui.js`

Settingsì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ë‹¤êµ­ì–´ ë„ì›€ë§ í˜ì´ì§€ ì¶”ê°€:
- ğŸ“š í”Œë˜ì‹œì¹´ë“œ ì‚¬ìš©ë²•
- ğŸ¯ í€´ì¦ˆ ì‚¬ìš©ë²•
- â­ XPì™€ ë ˆë²¨ ì‹œìŠ¤í…œ ì„¤ëª…
- ğŸ’¡ í•™ìŠµ íŒ
- âš™ï¸ ì„¤ì • ê°€ì´ë“œ

**7ê°œ ì–¸ì–´ ì§€ì›:** í•œêµ­ì–´, English, æ—¥æœ¬èª, ä¸­æ–‡, EspaÃ±ol, FranÃ§ais, Deutsch
- ì‚¬ìš©ìì˜ ëª¨êµ­ì–´(Native Language)ì— ë§ì¶° ë„ì›€ë§ í‘œì‹œ
- `currentUI` ê°ì²´ë¥¼ í†µí•œ ë™ì  ë²ˆì—­

### 2.7 Language Change Bug Fix (ì–¸ì–´ ë³€ê²½ ë²„ê·¸ ìˆ˜ì •)

**ë¬¸ì œ:** ì–¸ì–´ë¥¼ ë³€ê²½í•´ë„ ë©”ì¸ ë©”ë‰´ í—¤ë”ì˜ í…ìŠ¤íŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ
- `English â†’ í•œêµ­ì–´` / `Let's study hard!`ê°€ í•­ìƒ í‘œì‹œë¨
- æ—¥æœ¬èª ì„ íƒ ì‹œì—ë„ `æ—¥æœ¬èª â†’ í•œêµ­ì–´` / `é ‘å¼µã£ã¦å‹‰å¼·ã—ã‚ˆã†ï¼`ë¡œ ë³€ê²½ë˜ì§€ ì•ŠìŒ

**ì›ì¸:**
1. `changeLanguage()` í•¨ìˆ˜ì˜ `setTimeout` ì½œë°±ì´ ì‚¬ìš©ìì˜ ìƒˆ ì–¸ì–´ ì„ íƒì„ ë®ì–´ì”€
2. DOMì´ ì™„ì „íˆ ë¡œë“œë˜ê¸° ì „ì— `init()` ì‹¤í–‰ë˜ì–´ `document.getElementById()`ê°€ `null` ë°˜í™˜

**í•´ê²°:**
1. `changeLanguage()` í•¨ìˆ˜ ë¦¬íŒ©í† ë§ - `setTimeout` ì œê±°, ë™ê¸°ì ìœ¼ë¡œ ì„ íƒê°’ ë³µì›
2. `init()` í˜¸ì¶œì„ DOM ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰í•˜ë„ë¡ ë³€ê²½:
```javascript
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
} else {
    init();
}
```
3. `showMainMenu()`ì—ì„œ ìš”ì†Œ ì ‘ê·¼ ì‹œ null ì²´í¬ ì¶”ê°€

**ê²°ê³¼:** ì–¸ì–´ ë³€ê²½ ì‹œ ë©”ì¸ ë©”ë‰´ í—¤ë”ê°€ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ë¨
- æ—¥æœ¬èª â†’ í•œêµ­ì–´ + é ‘å¼µã£ã¦å‹‰å¼·ã—ã‚ˆã†ï¼
- í•œêµ­ì–´ â†’ English + ì—´ì‹¬íˆ ê³µë¶€í•´ìš”!

---

## 3. File Structure

```
/root/universal/
â”œâ”€â”€ package.json          # Express.js ì˜ì¡´ì„±
â”œâ”€â”€ server.js             # ì›¹ ì„œë²„ (Port 7071)
â””â”€â”€ public/
    â”œâ”€â”€ index.html        # ë©”ì¸ ì•± (SPA)
    â””â”€â”€ words/            # ì–¸ì–´ ë°ì´í„° (ëª¨ë“ˆí™”)
        â”œâ”€â”€ words-ui.js   # UI ë²ˆì—­ + í—¬í¼ í•¨ìˆ˜ (24KB)
        â”œâ”€â”€ en-ko.js      # English â†’ í•œêµ­ì–´ ë‹¨ì–´íŒ©
        â”œâ”€â”€ ko-en.js      # í•œêµ­ì–´ â†’ English ë‹¨ì–´íŒ©
        â””â”€â”€ ... (42ê°œ ì–¸ì–´ì¡°í•© íŒŒì¼)

/root/
â””â”€â”€ WORK_LOG_2026-02-04.md # ì‘ì—… ë¡œê·¸
```

### 3.1 Word File Modularization (NEW)
ê¸°ì¡´ ë‹¨ì¼ `words.js` íŒŒì¼(189KB)ì„ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ë¶„ë¦¬:

- **words-ui.js**: UI ë²ˆì—­, ì–¸ì–´ ì •ì˜, `loadWordPack()` í•¨ìˆ˜
- **42ê°œ ê°œë³„ íŒŒì¼**: ê° ì–¸ì–´ ì¡°í•©ë³„ ë‹¨ì–´ ë°ì´í„° (`{native}-{target}.js`)
- **ë™ì  ë¡œë”©**: ì‚¬ìš©ìê°€ ì–¸ì–´ë¥¼ ì„ íƒí•  ë•Œë§Œ í•´ë‹¹ ë‹¨ì–´íŒ© ë¡œë“œ
- **ì¥ì **: ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•, ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ, 3000ë‹¨ì–´ í™•ì¥ ì‹œ ëŒ€ë¹„

---

## 4. Key Features Implemented

### 4.1 Learning Flow
```
ì•± ì‹œì‘ â†’ ë©”ì¸ ë©”ë‰´ (ê¸°ë³¸: English â†’ í•œêµ­ì–´)
    â”œâ”€â”€ ğŸ“š Flashcards (í”Œë˜ì‹œì¹´ë“œ)
    â”‚   â””â”€â”€ ì™„ë£Œ ì‹œ â†’ Quiz ì ê¸ˆ í•´ì œ
    â”œâ”€â”€ ğŸ¯ Quiz (í€´ì¦ˆ) - í”Œë˜ì‹œì¹´ë“œ ì™„ë£Œ í›„ í™œì„±í™”
    â”œâ”€â”€ ğŸ“Š Progress (ì§„í–‰ ìƒí™©)
    â””â”€â”€ âš™ï¸ Settings (ì„¤ì •)
        â””â”€â”€ Change Language (ì–¸ì–´ ë³€ê²½)
```

### 4.2 Gamification
- XP ì‹œìŠ¤í…œ (ë‹¨ì–´ë‹¹ +10 XP)
- ë ˆë²¨ì—… ì‹œìŠ¤í…œ (Level * 100 XP í•„ìš”)
- ì—°ì† í•™ìŠµ (Streak)
- ë©”ë‹¬ ìˆ˜ì§‘ (Bronze/Silver/Gold)
- ì¼ì¼ ëª©í‘œ

### 4.3 Flashcard â†’ Quiz Dependency
- í”Œë˜ì‹œì¹´ë“œ ì™„ë£Œ ì „: í€´ì¦ˆ ë²„íŠ¼ ë¹„í™œì„±í™” + "Complete flashcards first!" ë©”ì‹œì§€
- í”Œë˜ì‹œì¹´ë“œ ì™„ë£Œ í›„: í€´ì¦ˆ ë²„íŠ¼ í™œì„±í™” + "Test yourself" ë©”ì‹œì§€
- `fcState.completed` í”Œë˜ê·¸ë¡œ ìƒíƒœ ê´€ë¦¬

---

## 5. Technical Details

### 5.1 LocalStorage Key
```javascript
'universalLanguageGame'  // ê²Œì„ ìƒíƒœ ì €ì¥
```

### 5.2 Game State Structure
```javascript
gameState = {
    nativeLanguage: 'en',      // ëª¨êµ­ì–´
    targetLanguage: 'ko',      // í•™ìŠµ ì–¸ì–´
    xp: 0,
    level: 1,
    totalScore: 0,
    streak: 0,
    lastStudyDate: null,
    todayLearned: 0,
    dailyGoal: 20,
    wordCount: 10,             // í”Œë˜ì‹œì¹´ë“œ & í€´ì¦ˆ ë‹¨ì–´ ìˆ˜
    selectedLevels: [1,2,3,4,5],
    learnedWords: [],
    quizzesCompleted: 0,
    totalCorrect: 0,
    totalAnswered: 0,
    medals: { bronze: 0, silver: 0, gold: 0 }
}
```

### 5.3 Word Data Structure
```javascript
{
    word: 'ì•ˆë…•í•˜ì„¸ìš”',
    reading: 'annyeonghaseyo',  // ë°œìŒ (ì„ íƒì )
    meaning: 'Hello',
    example: 'ì•ˆë…•í•˜ì„¸ìš”!',
    exampleMeaning: 'Hello!',
    category: 'Greetings',
    level: 1  // 1-5
}
```

---

## 6. How to Run

```bash
cd /root/universal
node server.js
# Server runs on http://localhost:7071
```

### Reset User Data (Browser Console)
```javascript
localStorage.removeItem('universalLanguageGame');
location.reload();
```

---

## 7. Pending / Future Tasks

### 7.0 Completed Tasks (ì™„ë£Œëœ ì‘ì—…) âœ“
- [x] words.js íŒŒì¼ ë¶„ë¦¬ (ëª¨ë“ˆí™”)
- [x] ë™ì  ë‹¨ì–´íŒ© ë¡œë”© êµ¬í˜„ (`loadWordPack()`)
- [x] 3000ë‹¨ì–´ í™•ì¥ ëŒ€ë¹„ ì•„í‚¤í…ì²˜ ì™„ë£Œ
- [x] ë„ì›€ë§ í˜ì´ì§€ ì¶”ê°€ (7ê°œ ì–¸ì–´ ì§€ì›)
- [x] ì–¸ì–´ ë³€ê²½ ì‹œ ë©”ì¸ ë©”ë‰´ í—¤ë” ì—…ë°ì´íŠ¸ ë²„ê·¸ ìˆ˜ì •
- [x] DOM ë¡œë”© íƒ€ì´ë° ë¬¸ì œ í•´ê²°

### 7.1 Word Data Enhancement
- [ ] ê° ì–¸ì–´ ì¡°í•©ì— ë” ë§ì€ ë‹¨ì–´ ì¶”ê°€ (í˜„ì¬ 13-55ê°œ â†’ ëª©í‘œ 3000ê°œ)
- [ ] ë ˆë²¨ë³„ ë‹¨ì–´ ê· í˜• ì¡°ì •
- [ ] ì¹´í…Œê³ ë¦¬ ë‹¤ì–‘í™” (í˜„ì¬: ì¸ì‚¬, ê¸°ë³¸, ìŒì‹, ì‚¬ëŒ, ì¥ì†Œ, ë™ì‚¬, ì‹œê°„, í˜•ìš©ì‚¬, ì˜ë¬¸ì‚¬, í‘œí˜„)

### 7.2 Feature Improvements
- [ ] ë°œìŒ ê¸°ëŠ¥ ê°œì„  (Web Speech API ìµœì í™”)
- [ ] í‹€ë¦° ë‹¨ì–´ ë³µìŠµ ê¸°ëŠ¥
- [ ] í•™ìŠµ í†µê³„ ê·¸ë˜í”„
- [ ] ë‹¨ì–´ì¥ ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°

### 7.3 UI/UX
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ê°œì„ 
- [ ] ë‹¤í¬ ëª¨ë“œ
- [ ] ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì¶”ê°€
- [ ] ì˜¤í”„ë¼ì¸ ì§€ì› (PWA)

### 7.4 Backend
- [ ] ì‚¬ìš©ì ì¸ì¦ ì¶”ê°€
- [ ] í´ë¼ìš°ë“œ ë°ì´í„° ë™ê¸°í™”
- [ ] í•™ìŠµ ë°ì´í„° ë¶„ì„

---

## 8. Related Projects

- `/root/englishWords/` - ì›ë³¸ ì˜ì–´ í•™ìŠµ ì•± (Port 7070)
  - í•œêµ­ì–´ â†’ ì˜ì–´ ì „ìš©
  - í”Œë˜ì‹œì¹´ë“œ â†’ í€´ì¦ˆ íë¦„ ë™ì¼

---

## 9. Notes

1. **UI ì–¸ì–´ = ëª¨êµ­ì–´**: ì‚¬ìš©ìê°€ ëª¨êµ­ì–´ë¥¼ ì„ íƒí•˜ë©´ ì „ì²´ UIê°€ í•´ë‹¹ ì–¸ì–´ë¡œ ë³€ê²½ë¨
2. **TTS**: Web Speech API ì‚¬ìš©, í•™ìŠµ ì–¸ì–´(Target)ë¡œ ë°œìŒ
3. **Confetti**: í€´ì¦ˆ 60% ì´ìƒ ì‹œ ì¶•í•˜ ì• ë‹ˆë©”ì´ì…˜

---

## 10. Server Management Log (2026-02-06)

### 10.1 ì‚­ì œëœ í”„ë¡œì íŠ¸

| í”„ë¡œì íŠ¸ | Port | ìƒíƒœ | GitHub |
|---------|------|------|--------|
| seju | 90 | ì™„ì „ ì‚­ì œ | ì‚­ì œë¨ |
| filming-location | 9000 | ë¡œì»¬ë§Œ ì‚­ì œ | ìœ ì§€ë¨ (ë³µì› ê°€ëŠ¥) |

### 10.2 filming-location ë³µì› ë°©ë²•

**GitHubì— ë³´ì¡´ë˜ì–´ ìˆì–´ ì–¸ì œë“  ë³µì› ê°€ëŠ¥í•©ë‹ˆë‹¤.**

```bash
# ë°©ë²• 1: GitHubì—ì„œ ìµœì‹  ë²„ì „ ë³µì›
cd /root
git checkout origin/main -- filming-location/

# ë°©ë²• 2: PM2ë¡œ ì„œë²„ ì¬ì‹œì‘ (ë³µì› í›„)
cd /root/filming-location
npm install
pm2 start server.js --name filming-location
pm2 save

# ì„œë²„ í™•ì¸
curl http://localhost:9000
```

**í”„ë¡œì íŠ¸ ì •ë³´:**
- ê²½ë¡œ: `/root/filming-location/`
- Port: 9000
- ì„¤ëª…: í•œêµ­ ë“œë¼ë§ˆ/ì˜í™” ì´¬ì˜ì§€ ì •ë³´ ì•±
- ê¸°ìˆ : Node.js + Express + SQLite
- ë°ì´í„°: filming_locations.db (ì´¬ì˜ì§€ ì •ë³´)

**ë³µì› ì»¤ë°‹:** `c191048` (Restore filming-location project to GitHub)

---

*Last Updated: 2026-02-06*
